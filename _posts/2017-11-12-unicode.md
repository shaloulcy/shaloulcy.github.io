---
layout: post 
author: shalou
title:  "unicode与utf-8" 
category: linux
tag: [unicode, utf8]
---

Unicode，称为统一码、万国码或单一码，它是为了解决传统的字符编码方案的局限而产生的，它可以容纳世界上所有文字和符号。

简单来说Unicode就是一个字典，一个数字对应一个文字或符号。


为啥会出现呢？

<!-- more -->

计算机发明后，人们首先制定了一种编码，叫ASCII码，ASCII码由一个字节中的7位(bit)表示，范围为0x00 - 0x7F，共128个字节，后面又扩展了ASCII码，使用一个字节的全部(bit)表示字符，这就叫扩展ASCII码。范围是0x00 - 0xFF 共256个字符。但是这只能表示英文字符、特殊符号，不能表示汉字、日语等其他符号，因此出现了GB-2312编码汉字，日本、韩文也出现了类似的编码方式，后面为了统一编码，就出现了Unicode。

Unicode定义了数字到字符的对应关系，但没有规定具体怎么存储，如字符A的ASCII编码为十进制数，他可以只用1个字节存储，也可以用两个字节，甚至三个字节存储，因此就出现了utf-8,utf-16,utf-32。

utf-32用四个字节编码unicode，也称为UCS-4

utf-16用两个字节编码unicode

无论是utf32，还是utf16，他们都存在两个缺点，第一他们与ascii码不兼容，因为ascci只用一个字节编码，第二，空间利用率低，假如一篇文章全是英文字母，那用两个字节或四个字节，显然浪费了空间。因此出现了utf-8，utf8其实是使用率最高的编码方式

utf8是一种变长的编码方式，以下是其编码方式

|unicode符号范范围(十六进制)|utf-8编码方式(二进制)|
|:--:|:--|
|00000000-0000007F| 0xxxxxxx |
|00000080-000007FF| 110xxxxx 10xxxxxx |
|00000800-0000FFFF| 1110xxxx 10xxxxxx 10xxxxxx|
|00010000-0010FFFF| 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx|

当unicode小于等于127时，其实编码方式与ascii相同。

以汉字“李”为例，其unicode为0x674e，对应的二进制为01100111 01001110，用utf8编码，它需要是三个字节，用这16个二进制填充上面的x，也就是11100110 10011101 10001110，十六进制为e69d8e。
